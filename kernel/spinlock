// -*- C++ -*-
#pragma once
namespace proc {
    struct cpu;
} // namespace proc

namespace spinlock {
struct lock {
  bool locked;

  char *name;
  struct proc::cpu *cpu;
};
auto init(struct lock &lock, char *name) -> void;
auto acquire(struct lock *lk) -> void;
auto release(struct lock *lk) -> void;
auto holding(struct lock *lock) -> bool;
} // namespace spinlock
